cheatsheet ç›¸å…³ä»£ç è¡¥å……ï¼ˆä¸‹ï¼‰

#### 1ã€æ“ä½œç¬¦

```rust

fn main() {
    // æ“ä½œç¬¦å¤§éƒ¨åˆ†å¾—åˆ°çš„ç»“æœæ˜¯ bool çš„ç»“æœï¼Œä½†æ˜¯ä½è¿ç®—ã€å››åˆ™è¿ç®—ï¼ˆåŠ å‡ä¹˜é™¤å–æ¨¡ï¼‰çš„ä¸æ˜¯
    // å…ˆæ˜¯ç­‰äº(==)ï¼Œä¸ç­‰äº(!=)
    let a = 1;
    let b = 1;

    println!("{} == {}: {}", a, b, a == b); // 1 == 1: true
    println!("{} != {}: {}", a, b, a != b); // 1 != 1: false

    let c = 2;
    println!("{} == {}: {}", a, c, a == c); // 1 == 2: false
    println!("{} != {}: {}", a, c, a != c); // 1 != 2: true

    let str1 = String::from("abc");
    let str2 = String::from("abc");

    println!("{} == {}: {}", str1, str2, str1 == str2); // abc == abc: true
    println!("{} != {}: {}", str1, str2, str1 != str2); // abc != abc: false

    let str3 = String::from("def");
    println!("{} == {}: {}", str1, str3, str1 == str3); // abc == def: false
    println!("{} != {}: {}", str1, str3, str1 != str3); // abc != def: true

    println!("--------------------");
    // å¤§äº(>)ã€å¤§äºç­‰äº(>=)ã€å°äº(<)ã€å°äºç­‰äº(<=)
    let a = 1;
    let b = 2;
    println!("{} > {}: {}", a, b, a > b); // 1 > 2: false
    println!("{} >= {}: {}", a, b, a >= b); // 1 >= 2: false
    println!("{} < {}: {}", a, b, a < b); // 1 < 2: true
    println!("{} <= {}: {}", a, b, a <= b); // 1 <= 2: true

    let str1 = String::from("abc");
    let str2 = String::from("def");

    // å¯¹ str1 å’Œ str2 ä¸­çš„æ¯ä¸€ä½è¿›è¡Œæ¯”è¾ƒï¼Œå¤„äºå­—æ¯è¡¨åé¢çš„å°±å¤§ï¼Œå¦‚æœæ˜¯åŒå­—æ¯çš„å¤§å°å†™æ¯”è¾ƒï¼Œå°å†™å­—æ¯å¤§
    println!("{} > {}: {}", str1, str2, str1 > str2); // abc > def: false
    println!("{} >= {}: {}", str1, str2, str1 >= str2); // abc >= def: false
    println!("{} < {}: {}", str1, str2, str1 < str2); // abc < def: true
    println!("{} <= {}: {}", str1, str2, str1 <= str2); // abc <= def: true

    println!("--------------------");
    // å››åˆ™è¿ç®—
    let a = 3;
    let b = 2;

    println!("{} + {} = {}", a, b, a + b); // 3 + 2 = 5
    println!("{} - {} = {}", a, b, a - b); // 3 - 2 = 1
    println!("{} Ã— {} = {}", a, b, a * b); // 3 Ã— 2 = 6
    println!("{} Ã· {} = {}", a, b, a / b); // 3 Ã· 2 = 1ï¼Œå› ä¸ºé™¤å·ä¸¤è¾¹éƒ½æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ˜¯å–æ•´çš„ç»“æœ
    println!("{} % {} = {}", a, b, a % b); // 3 % 2 = 1ï¼Œ % æ˜¯å–æ¨¡ï¼Œæˆ–è€…å«å–ä½™ï¼Œå°±æ˜¯ 3 é™¤ä»¥ 2 çš„ä½™æ•°

    println!("{} Ã· {} = {}", 1.0, 2.0, 1.0 / 2.0); // 1 Ã· 2 = 0.5ï¼Œå‰åæ˜¯å°æ•°ï¼Œæ‰€ä»¥å¾—åˆ°çš„æ˜¯å°æ•°

    println!("--------------------");
    // é€»è¾‘è¿ç®—ï¼ŒåŒ…æ‹¬ &&,||,!ï¼Œä»–ä»¬åˆ†åˆ«ä¸ºâ€œä¸â€ã€â€œæˆ–â€ã€â€œéâ€
    // ä¸ã€æˆ–æ˜¯äºŒå…ƒè¿ç®—ç¬¦ï¼Œæ‰€è°“çš„äºŒå…ƒå°±æ˜¯æœ‰ä¸¤ä¸ªæ“ä½œæ•°ï¼Œå·¦è¾¹ä¸€ä¸ªå³è¾¹ä¸€ä¸ª
    // éæ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œå°±åªæœ‰ç¬¦å·å³è¾¹æœ‰æ“ä½œæ•°
    let true_value = true;
    let false_value = false;

    // ä¸‹é¢ç¬¬ä¸€ä¸ªå’Œç¬¬å››ä¸ª IDE å¯èƒ½ä¼šæç¤ºé”™è¯¯ï¼Œå› ä¸ºä¸¤ä¸ªçœŸå€¼æˆ–è€…ä¸¤ä¸ªå‡å€¼ä¸éœ€è¦è¿™æ ·å†™ï¼Œä¸è¿‡å¯ä»¥æ­£å¸¸è¿è¡Œ
    println!("{} && {} = {}", true_value, true_value, true_value && true_value); // true && true = true
    println!("{} && {} = {}", true_value, false_value, true_value && false_value); // true && false = false
    println!("{} && {} = {}", false_value, true_value, false_value && true_value); // false && true = false
    println!("{} && {} = {}", false_value, false_value, false_value && false_value); // false && false = false
    // éœ€è¦æ³¨æ„ï¼Œ true && false çš„æ ¼å¼ä¸¾ä¸ªä¾‹å­
    // 1 > 2 && 2 > 3ï¼Œå› ä¸º 1 > 2 æ˜¯ falseï¼Œæ‰€ä»¥ 2 > 3 ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥ç»“æœæ˜¯ false
    // 2 > 1 && 2 > 3ï¼Œå› ä¸º 2 > 1 æ˜¯ trueï¼Œæ‰€ä»¥ 2 > 3 ä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯ 2 ä¸å¤§äº 3 æ‰€ä»¥ç»“æœæ˜¯ false
    // å‰é¢ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œ2 > 3ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºå‰åŠéƒ¨åˆ†æ˜¯ falseï¼Œæˆ‘ä»¬å«åšçŸ­è·¯ï¼Œå› ä¸ºâ€œä¸â€éœ€è¦å‰åéƒ½æ˜¯trueæ‰ä¼šå¾—åˆ°trueï¼Œæ‰€ä»¥
    // å‰é¢æ˜¯falseï¼Œåé¢å°±ä¸ä¼šæ‰§è¡Œäº†ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœè®¡ç®—èµ„æº

    // false || true
    // 1 > 2 || 2 > 3ï¼Œå› ä¸º 1 > 2 æ˜¯ falseï¼Œæ‰€ä»¥ 2 > 3 ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥ç»“æœæ˜¯ false
    // 2 > 1 || 2 > 3ï¼Œå› ä¸º 2 > 1 æ˜¯ trueï¼Œæ‰€ä»¥ 2 > 3 ä¸ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥ç»“æœæ˜¯ true
    // â€œæˆ–â€ä¹Ÿå­˜åœ¨çŸ­è·¯çš„æƒ…å†µï¼Œå½“å‰åä»»æ„ä¸€ä¸ªæ˜¯çœŸçš„æ—¶å€™ç»“æœå°±æ˜¯çœŸï¼Œæ‰€ä»¥å½“å‰é¢é‚£ä¸ªæ˜¯çœŸçš„æ—¶å€™ï¼Œåé¢å°±ä¸éœ€è¦è®¡ç®—ï¼Œç›´æ¥è¿”å›çœŸ

    println!("!true = {}", !true); // !true = false
    println!("!false = {}", !false); // !false = true

    // æ³¨ï¼šä¸åƒæœ‰äº›è¯­è¨€ï¼Œæ•°å­— 0 ä»£è¡¨ falseï¼Œé 0 ä»£è¡¨ trueï¼ŒRust ä¸­åªæœ‰ true å’Œ falseï¼Œæ²¡æœ‰å…¶ä»–çš„

    println!("--------------------");
    // ä½è¿ç®—ï¼Œéœ€è¦å°†æ“ä½œæ•°è½¬æˆäºŒè¿›åˆ¶å†è¿›è¡Œè®¡ç®—
    // &,|,^ æ˜¯äºŒå…ƒè¿ç®—ç¬¦ï¼Œ~ æ˜¯ä¸€å…ƒè¿ç®—ç¬¦
    let a = 1; // äºŒè¿›åˆ¶ 0001
    let b = 2; // äºŒè¿›åˆ¶ 0010

    // 0001 & 0010 = 0000ï¼Œå¯¹æ¯ä¸€ä¸ªå¯¹åº”ä½ç½®çš„æ•°å­—åšä¸è¿ç®—ï¼Œåªæœ‰éƒ½æ˜¯ 1 çš„æ—¶å€™æ‰æ˜¯ 1ï¼Œå¦åˆ™éƒ½æ˜¯ 0ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 0000
    println!("{} & {} = {}", a, b, a & b); // 1 & 2 = 0
    // 0001 | 0010 = 0011ï¼Œå¯¹æ¯ä¸€ä¸ªå¯¹åº”ä½ç½®çš„æ•°å­—åšæˆ–è¿ç®—ï¼Œåªè¦æœ‰ä¸€ä¸ªæ˜¯ 1 çš„æ—¶å€™å°±æ˜¯ 1ï¼Œå¦åˆ™éƒ½æ˜¯ 0ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 0011ï¼Œæ¢ç®—æˆ 10 è¿›åˆ¶å°±æ˜¯3
    println!("{} | {} = {}", a, b, a | b); // 1 & 2 = 3
    // 0001 ^ 0010 = 0011ï¼Œå¯¹æ¯ä¸€ä¸ªå¯¹åº”ä½ç½®çš„æ•°å­—åšå¼‚æˆ–è¿ç®—ï¼Œåªæœ‰ä¸€ä¸ªæ˜¯ 1 çš„æ—¶å€™æ‰æ˜¯ 1ï¼Œå¦åˆ™éƒ½æ˜¯ 0ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 0011ï¼Œæ¢ç®—æˆ 10 è¿›åˆ¶å°±æ˜¯3
    println!("{} ^ {} = {}", a, b, a ^ b); // 1 ^ 2 = 3
    // ~0001 = 1110ï¼Œå¯¹æ¯ä¸€ä¸ªå¯¹åº”ä½ç½®çš„æ•°å­—åšéè¿ç®—ï¼Œ0 å˜ 1ï¼Œ1 å˜ 0ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 1110ã€‚å› ä¸ºæ˜¯ä¸¾ä¾‹å­ï¼Œæ‰€ä»¥åªå†™äº† 4 ä½ï¼Œå®é™…
    // å‰é¢è¿˜æœ‰å¾ˆå¤šä½ï¼Œæ‰€ä»¥ç»“æœæ˜¯ 1111 1111 1111 1111 1111 1111 1111 1110ï¼Œæ¢ç®—æˆ 10 è¿›åˆ¶å°±æ˜¯ -2
    println!("~{} = {}", a, !a); // ~1 = -2

    println!("--------------------");
    // ç§»ä½ï¼ˆä½ç§»ï¼‰è¿ç®—ï¼Œä¹Ÿæ˜¯éœ€è¦æ¢ç®—æˆäºŒè¿›åˆ¶ï¼Œç„¶åç§»åŠ¨ï¼Œç„¶åå†æ¢å› 10 è¿›åˆ¶
    // >> æ˜¯å³ç§»ï¼Œ<< æ˜¯å·¦ç§»ï¼Œæ ¼å¼ï¼šæ“ä½œæ•° >> ç§»åŠ¨çš„ä½æ•°
    println!("{} << {} = {}", 1, 2, 1 << 2); // 1 << 2 = 4
    println!("{} >> {} = {}", 8, 2, 8 >> 2); // 8 >> 2 = 2
    // ç®€å•çš„è®¡ç®—å°±æ˜¯ï¼Œå·¦ç§»ä¹˜2ï¼Œå³ç§»é™¤2ï¼Œç§»ä½è¿ç®—ç¬¦åé¢çš„æ•°å­—æ˜¯å¤šå°‘ï¼Œå°±é™¤ä»¥å¤šå°‘ä¸ª 2
    // ä¾‹å¦‚ a << bï¼Œç»“æœå°±æ˜¯ a * 2^bï¼Œa >> bï¼Œç»“æœå°±æ˜¯ a / 2^b
    // æ³¨æ„ä¸‹é¢ä¾‹å­ï¼Œ1 æ˜¯ i32 ç±»å‹çš„ï¼Œæœ€å¤š31ä½ï¼Œå¦‚æœç§»åŠ¨äº† 31 ä½ï¼Œé‚£ä¹ˆç¬¬ä¸€ä½å°±å˜æˆäº†1ï¼ˆäºŒè¿›åˆ¶ï¼‰
    // æ‰€ä»¥å°±ä¼šå˜æˆè´Ÿæ•°ï¼Œå¦‚æœç»§ç»­ç§»åŠ¨ä¸€ä½ï¼Œå³ 32ä½ï¼Œå°±ä¼šæŠ¥é”™
    println!("{} << {} = {}", 1, 31, 1 << 31); // 1 << 31 = -2147483648
    // println!("{} << {} = {}", 1, 32, 1 << 32); // æŠ¥é”™
    // å½“å·²ç»æ˜¯æœ€åä¸€ä½æœ‰æ•°å­—çš„æ—¶å€™ï¼Œç»§ç»­ç§»åŠ¨ï¼Œæœ€å¤šåªèƒ½ç§»åŠ¨ 31ä½ï¼Œç»“æœéƒ½æ˜¯ 0ï¼Œ å¦‚æœç§»åŠ¨ 32ï¼Œä¼šæŠ¥é”™
    println!("{} >> {} = {}", 1, 31, 1 >> 31); // 1 >> 31 = 0
    // println!("{} >> {} = {}", 1, 32, 1 >> 32); // æŠ¥é”™

    // å› ä¸ºå‰é¢ 1 é»˜è®¤æ˜¯ i32ï¼Œæ‰€ä»¥åªèƒ½ç§»åŠ¨ 31ä½ç½®ï¼Œå¦‚æœæ˜¯ i64ï¼Œé‚£ä¹ˆå¯ä»¥ç§»åŠ¨ 63 ä½
}

```

#### 2ã€æµç¨‹æ§åˆ¶

##### 2.1ã€ifå’Œmatch

```rust
// if éƒ¨åˆ†
fn main() {
    // if condition { code } å…¶ä¸­ condition æ˜¯ bool ç±»å‹ï¼Œå½“ condition ä¸º true æ—¶ï¼Œæ‰§è¡Œ code
    // å½“åªæœ‰ä¸¤ä¸ªæ¡ä»¶çš„æ—¶å€™ if condition { code } else { code }
    // å½“æœ‰å¤šä¸ªæ¡ä»¶çš„æ—¶å€™ if condition1 { code } else if condition2 { code } else { code }

    let a = 1;
    let b = 2;

    // å› ä¸º a < b ==> 1 < 2 ==> trueï¼Œæ‰€ä»¥ä¼šè¾“å‡º a < b
    if a < b {
        println!("a < b");
    }

    // å› ä¸º a > b ==> 1 > 2 ==> falseï¼Œæ‰€ä»¥ä¸ä¼šè¾“å‡º a > bï¼Œè€Œæ˜¯è¿›å…¥åˆ°åé¢çš„ else éƒ¨åˆ†ï¼Œè¾“å‡º a <= b
    if a > b {
        println!("a > b");
    } else {
        println!("a <= b");
    }

    // å¦‚æœæƒ³ï¼Œå¤§äºã€å°äºã€ç­‰äºï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹å¼
    if a > b {
        println!("a > b");
    } else if a < b {
        println!("a < b");
    } else {
        println!("a == b");
    }

    // ä¹Ÿå¯ä»¥ä½¿ç”¨åµŒå¥—æ–¹å¼
    if a > b {
        println!("a > b");
    } else {
        if a < b {
            println!("a < b");
        } else {
            println!("a == b");
        }
    }

    // æˆ–è€…
    if a == b {
        println!("a == b");
    } else {
        if a > b {
            println!("a > b");
        } else {
            println!("a < b");
        }
    }

    // å°±ä¸ä¸€ä¸€åµŒå¥—äº†ï¼Œæ ¹æ®å®é™…æƒ…å†µï¼Œè‡ªå·±é€‰æ‹©

    // å‡è®¾ç°åœ¨éœ€è¦åˆ¤æ–­ä¸€ä¸ªè¡¨ç¤ºæœˆä»½çš„æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹å¼
    let month = 1;
    if month == 1 {
        println!("1æœˆ");
    } else if month == 2 {
        println!("2æœˆ");
    } else if month == 3 {
        println!("3æœˆ");
    } else if month == 4 {
        println!("4æœˆ");
    } else if month == 5 {
        println!("5æœˆ");
    } else if month == 6 {
        println!("6æœˆ");
    } else if month == 7 {
        println!("7æœˆ");
    } else if month == 8 {
        println!("8æœˆ");
    } else if month == 9 {
        println!("9æœˆ");
    } else if month == 10 {
        println!("10æœˆ");
    } else if month == 11 {
        println!("11æœˆ");
    } else if month == 12 {
        println!("12æœˆ");
    } else {
        println!("ä¸æ˜¯æœˆä»½");
    }
}
```

è¾“å‡º

```shell
a < b
a <= b
a < b
a < b
a < b
1æœˆ
```



```rust
// match éƒ¨åˆ†
fn main() {
    // match çš„æ ¼å¼å¦‚ä¸‹ï¼š
    // match <è¡¨è¾¾å¼> {
    //     <æ¨¡å¼1> => <è¡¨è¾¾å¼1>,
    //     <æ¨¡å¼2> => <è¡¨è¾¾å¼2>,
    //     <æ¨¡å¼3> => <è¡¨è¾¾å¼3>,
    //     ...
    // }
    // éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œmatch éœ€è¦ç©·å°½æ‰€æœ‰çš„å¯èƒ½æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

    let num = 1;

    // å‡è®¾åªå…³æ³¨1ã€2ã€3ä¸‰ç§æƒ…å†µï¼Œå…¶ä»–çš„å‡å¿½ç•¥
    match num {
        1 => println!("1"),
        2 => println!("2"),
        3 => println!("3"),
        // _ é€šé…ç¬¦ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„æƒ…å†µ
        _ => println!("å…¶ä»–"), // å¦‚æœå…¶ä»–çš„ä¸è€ƒè™‘ï¼Œå¯ä»¥ä½¿ç”¨ _ é€šé…ç¬¦ï¼Œå¦åˆ™æŠ¥é”™
    }

    match num {
        1..=3 => println!("1 å’Œ 2 å’Œ 3"), // å‡å¦‚1ã€2ã€3ä½¿ç”¨ç›¸åŒçš„å¤„ç†æ“ä½œï¼Œä¹Ÿå¯ä»¥è¿™æ ·æŠŠä»–ä»¬æ”¾åœ¨ä¸€èµ·
        _ => println!("å…¶ä»–"),
    }

    // ä¹Ÿå¯ä»¥æ›´å¤šçš„åˆ†ç»„æƒ…å†µ
    let month = 1;
    // æŒ‰ç…§å­£èŠ‚æ¥åˆ†
    match month {
        1 | 2 | 3 => println!("æ˜¥å¤©"),    // ä¹Ÿå¯ä»¥å†™æˆ 1..=3 => xxxx
        4 | 5 | 6 => println!("å¤å¤©"),    // ä¹Ÿå¯ä»¥å†™æˆ 4..=6 => xxxx
        7 | 8 | 9 => println!("ç§‹å¤©"),    // ä¹Ÿå¯ä»¥å†™æˆ 7..=9 => xxxx
        10 | 11 | 12 => println!("å†¬å¤©"), // ä¹Ÿå¯ä»¥å†™æˆ 10..=12 => xxxx
        _ => println!("å…¶ä»–"),
    }

    // å‰é¢if çš„ä¾‹å­åˆ¤æ–­æœˆä»½å¹¶è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ç”¨ match æ”¹å†™
    let month = 1;
    match month {
        1 => println!("1æœˆ"),
        2 => println!("2æœˆ"),
        3 => println!("3æœˆ"),
        4 => println!("4æœˆ"),
        5 => println!("5æœˆ"),
        6 => println!("6æœˆ"),
        7 => println!("7æœˆ"),
        8 => println!("8æœˆ"),
        9 => println!("9æœˆ"),
        10 => println!("10æœˆ"),
        11 => println!("11æœˆ"),
        12 => println!("12æœˆ"),
        _ => println!("å…¶ä»–"),
    }

    // æ‹¿å‰é¢çš„åˆ†æ•°ç¤ºä¾‹æ¥è¯´æ˜
    let score = 59;

    match score {
        0..=59 => println!("ä¸åŠæ ¼"),
        60..=69 => println!("ä¸­ç­‰"),
        70..=79 => println!("è‰¯å¥½"),
        80..=100 => println!("è‰¯å¥½"),
        _ => println!("æ— æ•ˆåˆ†æ•°"), // å› ä¸ºscoreæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ‰€ä»¥å¯ä»¥å–çš„èŒƒå›´å‡ºäº†å‰é¢å†™çš„0-100å¤–ï¼Œè¿˜å¯èƒ½å­˜åœ¨å…¶ä»–çš„ï¼Œå¦‚æœä¸å†™è¿™ä¸€è¡Œï¼Œå°±ä¼šæç¤º Match must be exhaustive [E0004]ï¼Œæç¤ºå¿…å‡ºæŠŠæ‰€æœ‰æƒ…å†µå†™å…¨ï¼›å› ä¸ºä¸éœ€è¦è´Ÿæ•°å’Œå¤§äº100çš„ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œå°±ç”¨ _ ä»£è¡¨å…¶ä»–ï¼Œç­‰ä»·äº else
    }

    // è¿™é‡Œæš‚æ—¶ä¸è€ƒè™‘ Optional çš„å…¶ä»–æƒ…å†µï¼Œå› ä¸ºéœ€è¦ç”¨åˆ° Resultã€Optionã€unwrap ç­‰çŸ¥è¯†ç‚¹ï¼Œ
    // è¿™é‡Œåªæ˜¯ç®€å•çš„ä»‹ç»ä¸€ä¸‹ match çš„ç”¨æ³•
}
```

è¾“å‡º

```shell
1
1 å’Œ 2 å’Œ 3
æ˜¥å¤©
1æœˆ
ä¸åŠæ ¼
```

##### 2.2ã€å¾ªç¯ï¼ˆforã€whileã€loopï¼‰

```rust
// loop éƒ¨åˆ†
fn main() {
    // loop æ ¼å¼
    // loop { code }

    // ä¸‹é¢è¿™ä¸ªä¼šä¸€ç›´æ‰“å° loop
    loop {
        println!("loop");
    }

    // å¦‚æœæƒ³è®©åé¢ä¾‹å­æ‰§è¡Œï¼Œéœ€è¦æŠŠå‰é¢çš„æ³¨é‡Šæ‰
    let mut num = 1;
    loop {
        println!("{} loop", num);

        // ä¸ºäº†ä¸è®© loop æ— é™å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ loop é‡Œé¢åŠ ä¸Š breakï¼Œä¸‹é¢æ˜¯å½“ num å¤§äºç­‰äº 10 æ—¶ï¼Œå°±ä¼šè·³å‡º loop
        if num >= 10 {
            break;
        }
        num += 1; // å› ä¸º loop è‡ªèº«ä¼šæ— é™å¾ªç¯ï¼Œæ‰€ä»¥è¿™é‡Œä¼šä¸åœçš„ +1 å¹¶èµ‹ç»™ num
    }

    // break å¯ä»¥ç»ˆæ­¢ loopï¼Œcontinue å¯ä»¥ç»ˆæ­¢å½“æ¬¡å¾ªç¯
    let mut num = 1;
    loop {
        if num >= 10 {
            break;
        }
        num += 1;

        // è¿™é‡Œæ˜¯å½“ num ä¸ºå¥‡æ•°æ—¶ï¼Œå°±ä¼šè·³è¿‡å½“æ¬¡å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯æœ€åè¾“å‡ºçš„æ—¶å€™åªè¾“å‡ºå¶æ•°
        if num % 2 == 1 {
            continue;
        }
        println!("num is {}", num);
    }
}
```

è¾“å‡ºï¼ˆéœ€è¦å°†ç¬¬ä¸€ä¸ª loop éƒ¨åˆ†æ³¨é‡Šæ‰ï¼Œå¦åˆ™æ‰§è¡Œä¸åˆ°åé¢ï¼‰

```shell
1 loop
2 loop
3 loop
4 loop
5 loop
6 loop
7 loop
8 loop
9 loop
10 loop
num is 2
num is 4
num is 6
num is 8
num is 10
```

```rust
// foréƒ¨åˆ†
fn main() {
    // for æ ¼å¼
    // for <å¾ªç¯å˜é‡> in <è¡¨è¾¾å¼> { code }

    // for ä¸ä¼šä¸€ç›´æ‰§è¡Œï¼Œä¸‹é¢çš„æ„æ€æ˜¯ï¼Œä»1 åˆ° 9 è¾“å‡ºï¼Œå¦‚æœéœ€è¦åŒ…å«10ï¼Œå¯ä»¥å†™æˆ 1..=10
    for i in 1..10 {
        println!("i is {}", i);
    }

    println!("-------------------");

    // for ä¹Ÿå¯ä»¥å¯¹æ•°ç»„è¿›è¡Œéå†
    let arr = [1, 2, 3, 4, 5];
    for i in arr.iter() {
        println!("i is {}", i);
    }

    println!("-------------------");
    // break å’Œ continue ä¹Ÿå¯ä»¥ç”¨åœ¨ for é‡Œé¢
    for i in 1..10 {
        // å½“ i ç­‰äº 5 çš„æ—¶å€™ï¼Œè·³å‡ºå¾ªç¯
        if i == 5 {
            break;
        }

        // å½“ i æ˜¯å¶æ•°çš„æ—¶å€™ï¼Œè·³è¿‡è¿™æ¬¡å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¾“å‡ºå¶æ•°
        if i % 2 == 0 {
            continue;
        }
        println!("i is {}", i);
    }

}
```

è¾“å‡º

```shell
i is 1
i is 2
i is 3
i is 4
i is 5
i is 6
i is 7
i is 8
i is 9
-------------------
i is 1
i is 2
i is 3
i is 4
i is 5
-------------------
i is 1
i is 3
```

å‰é¢for çš„ä¾‹å­ç”¨ while æ”¹å†™

```rust
// while éƒ¨åˆ†
fn main() {
    // while æ ¼å¼
    // while condition { code }

    let mut num = 1;

    while num < 10 {
        println!("num is {}", num);
        num += 1;
    }

    println!("-------------------");

    // for ä¹Ÿå¯ä»¥å¯¹æ•°ç»„è¿›è¡Œéå†
    let arr = [1, 2, 3, 4, 5];
    let mut index = 0; // éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œæœ¬èº«while ä¸å¯ä»¥åƒ for ä¸€æ ·å»ç›´æ¥ä½¿ç”¨ arr çš„è¿­ä»£ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨é¢å¤–çš„å˜é‡è¡¨ç¤ºä¸‹æ ‡

    while index < arr.len() {
        println!("arr[{}] is {}", index, arr[index]);
        index += 1;
    }

    println!("-------------------");
    // break å’Œ continue ä¹Ÿå¯ä»¥ç”¨åœ¨ while é‡Œé¢

    let mut num = 0;
    while num < 10 {
        num += 1;
        // å½“ i ç­‰äº 5 çš„æ—¶å€™ï¼Œè·³å‡ºå¾ªç¯
        if num == 5 {
            break;
        }

        // å½“ i æ˜¯å¶æ•°çš„æ—¶å€™ï¼Œè·³è¿‡è¿™æ¬¡å¾ªç¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¾“å‡ºå¶æ•°
        if num % 2 == 0 {
            continue;
        }
        println!("num is {}", num);
    }
}
```

è¾“å‡º

```shell
num is 1
num is 2
num is 3
num is 4
num is 5
num is 6
num is 7
num is 8
num is 9
-------------------
arr[0] is 1
arr[1] is 2
arr[2] is 3
arr[3] is 4
arr[4] is 5
-------------------
num is 1
num is 3
```

#### 3ã€å‡½æ•°

```rust

fn fun1() {
    print!("è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun1 çš„å‡½æ•°");
}

fn fun2(x: i32) {
    print!("è¿™æ˜¯ä¸€ä¸ªæœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun2 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ {}", x);
}

fn fun3() -> i32 {
    print!("è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun3 çš„å‡½æ•°");
    100
    // å› ä¸ºæ˜¯æœ€åä¸€è¡Œï¼Œæ‰€ä»¥å¯ä»¥çœç•¥æ‰ return å’Œåˆ†å·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ return 100;
}

fn fun4(x: i32) -> i32 {
    print!("è¿™æ˜¯ä¸€ä¸ªæœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun4 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ {}", x);
    x + 100
}

// è¿™ä¸ªå‡½æ•°å‡ ä¹æŠŠå‰é¢çš„æƒ…å†µéƒ½åŒ…å«äº†ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ·»åŠ æ›´å¤šçš„å‚æ•°ï¼Œè¿”å›æ‰€éœ€è¦çš„å€¼
fn fun5(x: i32, y: i32) -> i32 {
    print!("è¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun5 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ {}ï¼Œå‚æ•° y çš„å€¼æ˜¯ {}", x, y);
    x + y
}

fn main() {
    fun1();
    println!("\n-------------------");
    fun2(100);
    println!("\n-------------------");
    let x = fun3();
    println!("\n-------------------");
    println!("fun3 çš„è¿”å›å€¼æ˜¯ {}", x);
    println!("\n-------------------");
    let y = fun4(100);
    println!("\n-------------------");
    println!("fun4 çš„è¿”å›å€¼æ˜¯ {}", y);
    println!("\n-------------------");
    let z = fun5(100, 200);
    println!("\n-------------------");
    println!("fun5 çš„è¿”å›å€¼æ˜¯ {}", z);
}
```

è¾“å‡º

```shell
è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun1 çš„å‡½æ•°
-------------------
è¿™æ˜¯ä¸€ä¸ªæœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun2 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ 100
-------------------
è¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun3 çš„å‡½æ•°
-------------------
fun3 çš„è¿”å›å€¼æ˜¯ 100

-------------------
è¿™æ˜¯ä¸€ä¸ªæœ‰å‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun4 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ 100
-------------------
fun4 çš„è¿”å›å€¼æ˜¯ 200

-------------------
è¿™æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„ï¼Œåå­—å« fun5 çš„å‡½æ•°ï¼Œå‚æ•° x çš„å€¼æ˜¯ 100ï¼Œå‚æ•° y çš„å€¼æ˜¯ 200
-------------------
fun5 çš„è¿”å›å€¼æ˜¯ 300
```

#### 4ã€é—­åŒ…

æœ‰äº›åœ°æ–¹å«åŒ¿åå‡½æ•°ï¼Œæœ‰äº›åœ°æ–¹å«é—­åŒ…ï¼Œæœ‰äº›åœ°æ–¹å«lambdaè¡¨è¾¾å¼ã€‚

ä»å®˜æ–¹ç¿»è¯‘æ‹¿è¿‡æ¥çš„ä¸€å¥è¯ï¼šé—­åŒ…æ˜¯ä¸€ç§åŒ¿åå‡½æ•°ï¼Œå®ƒå¯ä»¥èµ‹å€¼ç»™å˜é‡ä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶å®ƒå‡½æ•°ï¼Œä¸åŒäºå‡½æ•°çš„æ˜¯ï¼Œå®ƒå…è®¸æ•è·è°ƒç”¨è€…ä½œç”¨åŸŸä¸­çš„å€¼ã€‚

```rust
fn add(n1: i32, n2: i32) -> i32 {
    n1 + n2
}

// æ³¨æ„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ lambda å‚æ•°ï¼Œç›´è¯‘å°±æ˜¯ï¼Œä¼ é€’ä¸€ä¸ª f å‚æ•°ï¼Œä»–æ˜¯ fn ï¼ˆå‡½æ•°ï¼‰ç±»å‹çš„ï¼Œè¿™ä¸ª fn ç±»å‹åŒ…å«äº†ä¸¤ä¸ªè¾“å…¥å‚æ•°å’Œä¸€ä¸ªè¿”å›å€¼
fn add_with_lambda_param(n1: i32, n2: i32, f: fn(i32, i32) -> i32) -> i32 {
    f(n1, n2) // è¿™é‡Œæ˜¯å‡½æ•°å†…çš„æœ€åä¸€è¡Œï¼Œä¸”æ²¡æœ‰åˆ†å·ï¼Œæ‰€ä»¥è¿™é‡Œä¼šå°† f è°ƒç”¨åçš„ç»“æœè¿”å›
}

fn main() {
    // æ—¢ç„¶æ˜¯å‡½æ•°ï¼Œé‚£è‚¯å®šå’Œæ™®é€šå‡½æ•°è„±ä¸äº†å¹²ç³»ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥å°†å‰é¢ add è½¬æˆé—­åŒ…çš„å½¢å¼

    // 1ã€å…ˆæ”¹å†™å‰é¢çš„ add å‡½æ•°
    // (n1: i32, n2: i32) -> i32 å‚æ•°å’Œè¿”å›å€¼éƒ¨åˆ†ï¼Œå…ˆå°† () æ¢æˆ ||ï¼Œå…¶ä»–ä¸å˜
    // å‡½æ•°å†…éƒ¨ï¼Œå°±ç…§æŠ„å°±å¥½äº†
    // 2ã€ç„¶åèµ‹äºˆä¸€ä¸ªå˜é‡
    let add_fn = |n1: i32, n2: i32| -> i32 {
        n1 + n2
    };

    // add å‡½æ•°æ€ä¹ˆä½¿ç”¨ï¼Œå‰é¢çš„ add_fn å°±æ€ä¹ˆä½¿ç”¨
    let result = add(1, 2);
    println!("fn add result = {}", result);
    let result = add_fn(1, 2);
    println!("fn add_fn result = {}", result);

    // ç”¨ç‚¹ä¸ä¸€æ ·çš„ï¼Œæ—¢ç„¶å®šä¹‰ä¸­è¯´äº†ï¼Œé—­åŒ…å¯ä»¥æ•è·è°ƒç”¨è€…ä½œç”¨åŸŸä¸­çš„å€¼ï¼Œé‚£ä¹ˆå°±ã€‚ã€‚ã€‚
    let num = 100;

    let add_fn = |n1: i32, n2: i32| -> i32 {
        n1 + n2 + num // æ³¨æ„è¿™é‡Œæ·»åŠ äº†ä¸€ä¸ªè°ƒç”¨è€…ä½œç”¨äºçš„å˜é‡ï¼ˆç®—å¸¸é‡ï¼Œå› ä¸ºæ²¡æœ‰ç”¨mutä¿®é¥°ï¼Œä¹ æƒ¯æ€§è¯´å˜é‡ï¼‰
    };

    let result = add_fn(1, 2);
    println!("fn add_fn + num result = {}", result);


    println!("----------------------");
    // lambda ä¹Ÿå¯ä»¥å½“åšå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°

    // å‚ç…§å‰é¢ add_with_lambda_param å¯¹ç¬¬ä¸‰ä¸ªå‚æ•°çš„è¯´æ˜ï¼Œæ‰€ä»¥è¿™é‡Œ
    // ä¼ é€’äº†ä¸€ä¸ª lambda ï¼ˆåŒ¿åå‡½æ•°ï¼Œé—­åŒ…éƒ½å¯ä»¥ï¼‰ï¼Œå…¶ä¸­ï¼ŒåŒ…å«äº†ä¸¤ä¸ªè¾“å…¥å‚æ•°å’Œä¸€ä¸ªè¿”å›å€¼
    let result = add_with_lambda_param(1, 2, |n1: i32, n2: i32| -> i32 {
        n1 + n2 // å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥æŠŠå‰é¢å®šä¹‰çš„ num ä¹Ÿå¸¦ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°"ä¸åŒäºå‡½æ•°çš„æ˜¯ï¼Œå®ƒå…è®¸æ•è·è°ƒç”¨è€…ä½œç”¨åŸŸä¸­çš„å€¼"
    });
    println!("fn add_with_lambda_param result = {}", result);
}
```

è¾“å‡º

```shell
fn add result = 3
fn add_fn result = 3
fn add_fn + num result = 103
----------------------
fn add_with_lambda_param result = 3
```

ç±»å‹æ–¹é¢è¿˜å·®ï¼šå…ƒç»„ã€ç»“æ„ä½“ç­‰è¾ƒä¸ºå¤æ‚çš„ç±»å‹ï¼ˆå…¶å®æ˜¯åœ¨ä¸Šç¯‡å¿˜è®°äº†ğŸ˜‹ï¼‰ï¼Œåé¢ä½¿ç”¨åˆ°çš„æ—¶å€™å†è¿›è¡Œè¡¥å……ï¼Œæ€»ä¸èƒ½çœ‹åˆ°è¿™ã€å­¦åˆ°è¿™å°±ç»“æŸäº† rust å­¦ä¹ ä¹‹æ—…äº†å§ã€‚
